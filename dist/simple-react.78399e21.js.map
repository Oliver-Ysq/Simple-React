{"version":3,"sources":["src/SmpReact/main_methods/createElement.js","src/SmpReact/utils/dom.js","src/SmpReact/dom_methods/render.js","src/SmpReact/dom_methods/diff.js","src/SmpReact/main_methods/update.js","src/SmpReact/main_methods/Component.js","src/SmpReact/SmpReact.js","src/SmpReact/SmpReactDom.js","src/components/Header/Header.jsx","src/components/Footer/Footer.jsx","src/components/Counter/Counter.jsx","App.jsx","index.jsx","node_modules/parcel-bundler/src/builtins/bundle-url.js","node_modules/parcel-bundler/src/builtins/css-loader.js","node_modules/parcel-bundler/src/builtins/hmr-runtime.js"],"names":["createVNode","type","props","ref","key","children","domElm","text","createElement","tag","elementName","data","attributes","length","i","child","includes","undefined","String","dom","vnode","document","createTextNode","setTextContent","content","nodeValue","getParentNode","elm","parentNode","appendChild","parent","Array","isArray","item","removeChild","getNextSibling","nextSibling","insertBefore","newNode","refNode","insertAfter","before","lastChild","addClass","className","classList","add","bindEvent","fn","addEventListener","removeEvent","removeEventListener","setAttr","value","setAttribute","removeAttr","removeAttribute","createDomElement","list","push","renderComponent","setDomProps","keys","Object","startsWith","eventName","substring","toLowerCase","console","log","compVNode","Comp","instance","prototype","render","__nextProps","__nextState","state","__createVNode","__component","component","parentDom","diff","oldVNode","newVNode","isSameVNode","diffComponent","diffVNode","replaceVNode","oldCompVNode","newCompVNode","nextProps","__dirty","oldChild","oldText","oldProps","newChild","newText","newProps","diffProps","hasOldChild","Boolean","hasNewChild","diffChildren","addVNodes","removeVNodes","oldDomElm","newDomElm","oldV","newV","start","end","newDom","parentElm","oldStartIdx","newStartIdx","oldEndIdx","newEndIdx","oldStartVNode","oldEndVNode","newStartVNode","newEndVNode","oldKeyToIdx","idxInOld","elmToMove","createKeyList","map","defer","Promise","resolve","then","updateQueue","enqueueRender","updater","flushRenderQueue","sort","curUpdater","pop","__update","flushCallback","callbacks","__setStateCallbacks","cbk","shift","call","Component","__prevProps","__prevState","__vnode","operater","callback","SmpReact","SmpReactDom","Footer","imgsrc","Counter","n","disabled","minus","mult","clear","setInterval","clearInterval","App","interval","flag","calc","setState","Error","that","window","alert","getElementById","bundleURL","getBundleURLCached","getBundleURL","err","matches","stack","match","getBaseURL","url","replace","exports","bundle","require","updateLink","link","newLink","cloneNode","onload","remove","href","split","Date","now","cssTimeout","reloadCSS","setTimeout","links","querySelectorAll","module","OVERLAY_ID","OldModule","Module","moduleName","hot","hotData","_acceptCallbacks","_disposeCallbacks","accept","dispose","checkedAssets","assetsToAccept","isParcelRequire","WebSocket","hostname","location","protocol","ws","onmessage","event","JSON","parse","handled","assets","forEach","asset","isNew","didAccept","hmrAcceptCheck","global","parcelRequire","id","every","generated","js","hmrApply","v","hmrAcceptRun","reload","close","onclose","removeErrorOverlay","error","message","overlay","createErrorOverlay","body","stackTrace","innerText","innerHTML","getParents","modules","parents","k","d","dep","concat","Function","deps","cached","cache","some","cb"],"mappings":"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","file":"simple-react.78399e21.js","sourceRoot":"..","sourcesContent":["// 创建一个虚拟dom\r\nexport function createVNode(type, props, ref, key, children, domElm, text) {\r\n  return {\r\n    type, //标签类型\r\n    props,  //标签属性\r\n    children, //子组件\r\n    ref,  //获取DOM元素\r\n    key,  //唯一标识\r\n    domElm,  //DOM元素\r\n    text, //文本内容\r\n  };\r\n}\r\n\r\nexport default function createElement(tag) {\r\n  const {elementName: type, attributes: data, children} = tag;\r\n  const {key, ref, ...props} = data;\r\n\r\n  // 处理子级列表中的 string or number 同样转换为 VNode\r\n  if (children && children.length) {\r\n    const length = children.length;\r\n    for (let i = 0; i < length; i++) {\r\n      const child = children[i];  //对每一个子节点进行遍历\r\n      if (['string', 'number'].includes(typeof child)) {\r\n        // 非标签的文字节点， vnode.type === undefined\r\n        children[i] = createVNode(\r\n          undefined,\r\n          {},\r\n          undefined,\r\n          undefined,\r\n          undefined,\r\n          undefined,\r\n          String(children[i])\r\n        );\r\n      }\r\n    }\r\n  }\r\n  return createVNode(type, props, ref, key, children, undefined, undefined);\r\n}","/*\r\n  原生dom操作\r\n* */\r\n\r\nconst dom = {\r\n  //根据vnode.type创建dom元素\r\n  createElement(vnode) {\r\n    return document.createElement(vnode.type);\r\n  },\r\n\r\n  //创建text节点\r\n  createTextNode(text) {\r\n    return document.createTextNode(text);\r\n  },\r\n\r\n  //修改文本节点的值\r\n  setTextContent(domElm, content) {\r\n    if (domElm && ['string', 'number'].includes(typeof content)) {\r\n      domElm.nodeValue = content;\r\n    }\r\n  },\r\n\r\n  //得到父元素\r\n  getParentNode(elm) {\r\n    return elm && elm.parentNode;\r\n  },\r\n\r\n  //增加子元素\r\n  appendChild(parent, child) {\r\n    // 若在JSX中渲染列表，则需要批量处理。\r\n    if (Array.isArray(child)) {\r\n      for (let item of child) {\r\n        parent.appendChild(item);\r\n      }\r\n    } else {\r\n      parent.appendChild(child);\r\n    }\r\n  },\r\n\r\n  //删除指定子元素\r\n  removeChild(parent, child) {\r\n    if (child && parent && child.parentNode) {\r\n      parent.removeChild(child);\r\n    }\r\n  },\r\n\r\n  //获取兄弟元素\r\n  getNextSibling(domElm) {\r\n    return domElm.nextSibling === null ? false : domElm.nextSibling;\r\n  },\r\n\r\n  //在前边插入节点\r\n  insertBefore(parent, newNode, refNode) {\r\n    if (refNode) {\r\n      parent.insertBefore(newNode, refNode);\r\n    } else {\r\n      dom.appendChild(parent, newNode);\r\n    }\r\n  },\r\n\r\n  //在后边插入节点\r\n  insertAfter(parent, newNode, before) {\r\n    if (parent.lastChild === before) {\r\n      parent.appendChild(newNode);\r\n    } else {\r\n      parent.insertBefore(newNode, before);\r\n    }\r\n  },\r\n\r\n  //绑定class\r\n  addClass(domElm, className) {\r\n    domElm.classList.add(className);\r\n  },\r\n\r\n  //绑定事件\r\n  bindEvent(domElm, type, fn) {\r\n    domElm.addEventListener(type, fn);\r\n  },\r\n\r\n  //解绑事件\r\n  removeEvent(domElm, type, fn) {\r\n    domElm.removeEventListener(type, fn);\r\n  },\r\n\r\n  //设置属性\r\n  setAttr(domElm, key, value) {\r\n    domElm.setAttribute(key, value);\r\n  },\r\n\r\n  //删除属性\r\n  removeAttr(domElm, key) {\r\n    domElm.removeAttribute(key);\r\n  },\r\n\r\n};\r\nexport default dom;","import dom from \"../utils/dom\";\r\n\r\n// 创建dom元素：虚拟dom => dom\r\nexport function createDomElement(vnode) {\r\n  //若type为function：组件元素\r\n  //先render出vnode节点\r\n\r\n  if (Array.isArray(vnode)) {\r\n    //如果是vnode是列表，则批量创建dom，并返回dom列表\r\n\r\n    let list = [];\r\n    for (let i = 0; i < vnode.length; i++)\r\n      list.push(createDomElement(vnode[i]));\r\n    return list;\r\n\r\n  } else {\r\n    if (typeof vnode.type === 'function') {\r\n      /**********    组件 ==> 组件实例 ==> 元素节点（elVNode）    ***********/\r\n      vnode = renderComponent(vnode);\r\n    }\r\n    const {children, type, text, props} = vnode;\r\n    if (type && typeof type === 'string') {\r\n      //type为字符串：dom元素\r\n      vnode.domElm = dom.createElement(vnode);//创建当前dom元素\r\n      if (Array.isArray(children)) {\r\n        //递归创建子元素\r\n        for (let i = 0; i < children.length; i++)\r\n          dom.appendChild(vnode.domElm, createDomElement(children[i]));\r\n\r\n      }\r\n    } else if ((type === undefined || type === null) && text) {\r\n      //type为undefined：文本节点\r\n      vnode.domElm = dom.createTextNode(text);\r\n    }\r\n\r\n    if (vnode.domElm) {//如果创建成功了，则设置dom元素的属性\r\n      setDomProps(vnode.domElm, props);\r\n      return vnode.domElm;\r\n    } else {  //创建失败，则renderComponent后的vnode依然是组件节点，需要递归rener\r\n      return createDomElement(vnode);\r\n    }\r\n  }\r\n}\r\n\r\n// 为dom元素设置属性\r\nexport function setDomProps(domElm, props) {\r\n  if (domElm && typeof props === 'object') {\r\n    const keys = Object.keys(props);\r\n    for (let i = 0; i < keys.length; i++) {\r\n\r\n      const key = keys[i];\r\n      const value = props[key];\r\n\r\n      if (key.startsWith('on')) {\r\n        // 事件绑定\r\n        if (typeof value === 'function') {\r\n          const eventName = key.substring(2).toLowerCase();  // 去出on之后的字符串并转换为小写\r\n          dom.bindEvent(domElm, eventName, value);\r\n        } else {\r\n          console.log('Invalid EventHandler');\r\n        }\r\n      } else if (key === 'className') {\r\n        // 添加class\r\n        dom.addClass(domElm, value);\r\n      } else {\r\n        // 属性设置\r\n        dom.setAttr(domElm, key, value);\r\n      }\r\n\r\n    }\r\n  }\r\n}\r\n\r\n/**********    组件 ==> 组件实例 ==> 元素节点（elVNode）    ***********/\r\nexport function renderComponent(compVNode) {\r\n  const {type: Comp, props} = compVNode;  //compVNode：组件； instance：组件实例。  vnode：元素节点；\r\n  let instance = compVNode.instance;\r\n  // 当 instance 已经存在时，则不需要重新创建实例\r\n  if (!instance) {\r\n    // 传入 props，初始化组件实例\r\n    // 支持：类组件、函数组件\r\n    if (Comp.prototype && Comp.prototype.render) {\r\n      instance = new Comp(props);\r\n    }\r\n\r\n    // 初次渲染时：将来的属性与状态其实便是与当前值一致\r\n    instance.__nextProps = props;\r\n    instance.__nextState = instance.state;\r\n  }\r\n\r\n  // 调用 render 获取元素节点 VNode\r\n  const vnode = instance.__createVNode();\r\n\r\n  // 组件、元素、实例之间保持相互引用，有利于双向连接整棵虚拟树\r\n  instance.__component = compVNode; //组件\r\n  compVNode.instance = instance;  //组件实例\r\n  compVNode.vnode = vnode;    //元素节点\r\n  vnode.component = compVNode;  //组件\r\n\r\n  return vnode;\r\n}\r\n\r\n// 渲染函数\r\nexport default function render(vnode, parentDom) {\r\n  const domElm = createDomElement(vnode); //创建dom元素（可能是dom元素列表）\r\n  dom.appendChild(parentDom, domElm);  //将dom元素插入父节点\r\n  return domElm;\r\n}","import dom from \"../utils/dom\";\r\nimport {createDomElement, renderComponent, setDomProps} from \"./render\";\r\n\r\n//新旧节点相同：diff算法\r\nexport function diff(oldVNode, newVNode) {\r\n  if (isSameVNode(oldVNode, newVNode)) {\r\n    if (typeof oldVNode.type === 'function') {\r\n      // 组件节点\r\n      diffComponent(oldVNode, newVNode);\r\n    } else {\r\n      // 元素节点，直接执行比对\r\n      diffVNode(oldVNode, newVNode);\r\n    }\r\n  } else {\r\n    console.log('not same vnode');\r\n    replaceVNode(oldVNode, newVNode);\r\n  }\r\n}\r\n\r\n//组件节点diff\r\nfunction diffComponent(oldCompVNode, newCompVNode) {\r\n  const {instance, vnode: oldVNode, elm} = oldCompVNode;\r\n  const {props: nextProps} = newCompVNode;\r\n\r\n  if (instance && oldVNode) {\r\n    instance.__dirty = false;\r\n\r\n    // 更新状态和属性\r\n    instance.__nextProps = nextProps;\r\n    if (!instance.__nextState) instance.__nextState = instance.state;\r\n\r\n    // 复用旧组件实例和元素\r\n    newCompVNode.instance = instance;\r\n    newCompVNode.elm = elm;\r\n\r\n    // 使用新属性、新状态，旧组件实例\r\n    // 重新生成 新虚拟DOM\r\n    const newVNode = renderComponent(newCompVNode);\r\n\r\n    // 递归触发 diff\r\n    diff(oldVNode, newVNode);\r\n  }\r\n}\r\n\r\n//元素节点diff\r\nfunction diffVNode(oldVNode, newVNode) {\r\n\r\n  const {domElm, children: oldChild, text: oldText, props: oldProps} = oldVNode;\r\n  const {children: newChild, text: newText, props: newProps} = newVNode;\r\n\r\n  if (oldVNode === newVNode || !domElm) return;\r\n\r\n  // 节点相同，dom类型一定相同\r\n  newVNode.domElm = domElm;\r\n\r\n  //更新属性\r\n  diffProps(domElm, oldProps, newProps);\r\n\r\n  const hasOldChild = Boolean(oldChild && oldChild.length);\r\n  const hasNewChild = Boolean(newChild && newChild.length);\r\n\r\n  if (newText !== undefined) {\r\n    //新节点是文本节点\r\n    dom.setTextContent(domElm, newText);\r\n  } else {\r\n    // 新节点是元素节点\r\n    if (hasOldChild && hasNewChild) {\r\n      // 新旧节点均存在子级列表时，直接 diff 列表\r\n      if (oldChild !== newChild) diffChildren(domElm, oldChild, newChild);\r\n    } else if (hasNewChild) {\r\n      // 旧节点不包含子级，而新节点包含子级：直接新增新子级\r\n      addVNodes(domElm, null, newChild, 0, newChild.length - 1);\r\n    } else if (hasOldChild) {\r\n      // 新子级不包含元素，而旧节点包含子级：则需要删除旧子级\r\n      removeVNodes(domElm, oldChild, 0, oldChild.length - 1);\r\n    }\r\n    // else if (oldText !== undefined) {\r\n    // 当新旧均无子级\r\n    // 这里有可能存在 <Text> 标签，且新内容为空\r\n    // 因此直接清空旧元素文字\r\n    // dom.setTextContent(domElm, '');\r\n    // }\r\n  }\r\n}\r\n\r\n//新旧节点不同：直接替换\r\nfunction replaceVNode(oldVNode, newVNode) {\r\n\r\n  const {domElm: oldDomElm} = oldVNode;\r\n  const parentDom = dom.getParentNode(oldDomElm);\r\n\r\n  //删除旧dom\r\n  dom.removeChild(parentDom, oldDomElm);\r\n  //创建新dom\r\n  const newDomElm = createDomElement(newVNode);\r\n  dom.appendChild(parentDom, newDomElm);\r\n\r\n}\r\n\r\nfunction diffProps(domElm, oldProps, newProps) {\r\n  if (oldProps === newProps || !domElm) return;\r\n  if (typeof oldProps === 'object' && typeof newProps === 'object') {\r\n    let keys = Object.keys(oldProps);\r\n\r\n    //处理旧属性\r\n    for (let i = 0; i < keys.length; i++) {\r\n      const key = keys[i];\r\n      const oldV = oldProps[key], newV = newProps[key];\r\n\r\n\r\n      if (key.startsWith(\"on\")) {\r\n        //处理事件\r\n        if (typeof oldV === 'function' && oldV !== newV) {\r\n          //当存在旧事件，且新旧值不一致时：事件解绑\r\n          const eventName = key.substring(2).toLowerCase();\r\n          dom.removeEvent(domElm, eventName, oldV);\r\n        }\r\n      } else {\r\n        //普通属性处理\r\n        if (newV === undefined || (key === 'className' && (newV === false || newV === null))) {\r\n          // 若oldVNode中的属性在newVNode中不存在，则直接删除\r\n          // class属性需要特殊处理\r\n          dom.removeAttr(domElm, key === 'className' ? 'class' : key);\r\n        }\r\n      }\r\n    }\r\n\r\n    // 设置新属性\r\n    setDomProps(domElm, newProps);\r\n  }\r\n}\r\n\r\n//添加vnodes\r\nfunction addVNodes(domElm, before, children, start, end) {\r\n  before = !before ? null : before.domElm;\r\n  for (let i = start; i <= end; i++) {\r\n    let newDom = children[i].domElm || createDomElement(children[i]);\r\n    dom.insertAfter(domElm, newDom, before);\r\n    before = newDom;\r\n  }\r\n}\r\n\r\n//删除vnodes\r\nfunction removeVNodes(domElm, children, start, end) {\r\n  for (let i = start; i <= end; i++) {\r\n    dom.removeChild(domElm, children[i].domElm);\r\n  }\r\n}\r\n\r\n//对比子级列表\r\nfunction diffChildren(parentElm, oldChild, newChild) {\r\n\r\n  /**\r\n   * 更新子级列表\r\n   * 双列表游标 + while\r\n   */\r\n\r\n  if (Array.isArray(oldChild[0])) oldChild = oldChild[0];\r\n  if (Array.isArray(newChild[0])) newChild = newChild[0];\r\n\r\n  // 初始化游标\r\n  let oldStartIdx = 0, newStartIdx = 0;\r\n  let oldEndIdx = oldChild.length - 1, newEndIdx = newChild.length - 1;\r\n\r\n  // 列表首尾节点\r\n  let oldStartVNode = oldChild[0], oldEndVNode = oldChild[oldEndIdx];\r\n  let newStartVNode = newChild[0], newEndVNode = newChild[newEndIdx];\r\n\r\n  let oldKeyToIdx, idxInOld, elmToMove, before;\r\n\r\n  /**\r\n   * 当起始游标 < 终止游标时，\r\n   * 表示列表中仍有未 diff 的节点\r\n   * 进入循环\r\n   */\r\n  while (oldStartIdx <= oldEndIdx && newStartIdx <= newEndIdx) {\r\n    /**\r\n     * 1. 排除非有效的节点\r\n     * 剔除列表中包含的 undefined || false || null\r\n     */\r\n    if (oldStartVNode == null) oldStartVNode = oldChild[++oldStartIdx];\r\n    else if (oldEndVNode == null) oldEndVNode = oldChild[--oldEndIdx];\r\n    else if (newStartVNode == null) newStartVNode = newChild[++newStartIdx];\r\n    else if (newEndVNode == null) newEndVNode = newChild[--newEndIdx];\r\n    else if (isSameVNode(oldStartVNode, newStartVNode)) {\r\n      /**\r\n       * 2. 正反向两两比对列表首项与末项匹配成功\r\n       * 移动游标，递归 diff 两个节点\r\n       * 均未匹配上，则进入 3. key 值比对\r\n       */\r\n\r\n      diff(oldStartVNode, newStartVNode);\r\n\r\n      oldStartVNode = oldChild[++oldStartIdx];\r\n      newStartVNode = newChild[++newStartIdx];\r\n    } else if (isSameVNode(oldEndVNode, newEndVNode)) {\r\n\r\n      diff(oldEndVNode, newEndVNode);\r\n\r\n      oldEndVNode = oldChild[--oldEndIdx];\r\n      newEndVNode = newChild[--newEndIdx];\r\n    } else if (isSameVNode(oldStartVNode, newEndVNode)) {\r\n\r\n      dom.insertBefore(parentElm, oldStartVNode.domElm, dom.getNextSibling(oldEndVNode.domElm));\r\n      diff(oldStartVNode, newEndVNode);\r\n\r\n      oldStartVNode = oldChild[++oldStartIdx];\r\n      newEndVNode = newChild[--newEndIdx];\r\n    } else if (isSameVNode(oldEndVNode, newStartVNode)) {\r\n\r\n      dom.insertBefore(parentElm, oldEndVNode.domElm, oldStartVNode.domElm);\r\n      diff(oldEndVNode, newStartVNode);\r\n\r\n      oldEndVNode = oldChild[--oldEndIdx];\r\n      newStartVNode = newChild[++newStartIdx];\r\n    } else {\r\n      /**\r\n       * 3. 两端比对均不匹配\r\n       * 进入 key 值比对\r\n       */\r\n      // 根据剩余的旧列表创建 key list\r\n      if (!oldKeyToIdx) oldKeyToIdx = createKeyList(oldChild, oldStartIdx, oldEndIdx);\r\n\r\n      // 判断新列表项的 key值 是否存在\r\n      idxInOld = oldKeyToIdx[newStartVNode.key || ''];\r\n      if (!idxInOld) {\r\n        /*\r\n         * 4. 新 key 值在旧列表中不存在\r\n         * 直接将该节点插入\r\n        */\r\n        dom.insertBefore(parentElm, createDomElement(newStartVNode), oldStartVNode.domElm);\r\n        newStartVNode = newChild[++newStartIdx];\r\n      } else {\r\n        /*\r\n        * 5. 新 key 在旧列表中存在时\r\n        * 继续判断是否为同类型节点\r\n        */\r\n        elmToMove = oldChild[idxInOld];\r\n        if (isSameVNode(elmToMove, newStartVNode)) {\r\n          /*\r\n          * 6. 新旧节点类型一致\r\n          * key 有效，直接移动并 diff\r\n          */\r\n          dom.insertBefore(parentElm, elmToMove.domElm, oldStartVNode.domElm);\r\n          diff(elmToMove, newStartVNode);\r\n\r\n          // 清空旧列表项\r\n          // 后续的比对可以直接跳过\r\n          oldChild[idxInOld] = undefined;\r\n        } else {\r\n          /*\r\n           * 7. 新旧节点类型不一致\r\n           * key 效，直接创建元素并插入\r\n          */\r\n          dom.insertBefore(parentElm, createDomElement(newStartVNode), oldStartVNode.domElm);\r\n        }\r\n        newStartVNode = newChild[++newStartIdx];\r\n      }\r\n    }\r\n  }\r\n\r\n  /*\r\n   * 8. 当有游标列表为空时，则结束循环，进入策略3\r\n   * 当 旧列表为空 时，则创建并插入新列表中的剩余节点\r\n   * 当 新列表为空 时，则删除旧列表中的剩余节点\r\n  */\r\n  if (oldStartIdx <= oldEndIdx || newStartIdx <= newEndIdx) {\r\n    if (oldStartIdx > oldEndIdx) {\r\n      // 新增节点\r\n      const vnode = newChild[newEndIdx + 1];\r\n      addVNodes(parentElm, vnode, newChild, newStartIdx, newEndIdx);\r\n    } else {\r\n      // 删除节点\r\n      removeVNodes(parentElm, oldChild, oldStartIdx, oldEndIdx);\r\n    }\r\n  }\r\n}\r\n\r\n// 对比两vnode是否是相同的\r\nfunction isSameVNode(oldVNode, newVNode) {\r\n  return oldVNode.key === newVNode.key && oldVNode.type === newVNode.type;\r\n}\r\n\r\n//工具函数 创建key列表\r\nfunction createKeyList(children, start, end) {\r\n  let map = {};\r\n  for (let i = start; i <= end; i++) {\r\n    const {key} = children[i];\r\n    if (key) map[key] = i;\r\n  }\r\n  return map;\r\n}","const defer = fn => {Promise.resolve().then(fn);}; //微任务 不阻塞宏任务（渲染等\r\n\r\nconst updateQueue = [];\r\n\r\n// 队列更新 API\r\nexport function enqueueRender(updater) {\r\n  // 将所有 updater 同步推入更新队列中\r\n  // 为实例添加一个属性 __dirty，标识是否处于待更新状态\r\n  // 初始 和 更新完毕，该值会被置为 false\r\n  // 推入队列时，标记为 true\r\n  if (\r\n    !updater.__dirty &&\r\n    (updater.__dirty = true) &&\r\n    updateQueue.push(updater) === 1\r\n  ) {\r\n    // 异步化冲洗队列\r\n    // 最终只执行一次冲洗\r\n    defer(flushRenderQueue);\r\n  }\r\n}\r\n\r\n// 合并一次循环中多次 updater\r\nfunction flushRenderQueue() {\r\n  if (updateQueue.length) {\r\n    // 排序更新队列\r\n    updateQueue.sort();\r\n\r\n    // 循环队列出栈\r\n    let curUpdater = updateQueue.pop();\r\n    while (curUpdater) {\r\n\r\n      // 当组件处于 待更新态 时，触发组件更新\r\n      // 如果该组件已经被更新完毕，则该状态为 false\r\n      // 则后续的更新均不再执行\r\n      if (curUpdater.__dirty) {\r\n        // 调用组件自身的更新函数\r\n        curUpdater.__update();\r\n\r\n        // 执行 callback\r\n        flushCallback(curUpdater);\r\n      }\r\n      // curUpdater.__dirty = false;\r\n      curUpdater = updateQueue.pop();\r\n    }\r\n  }\r\n}\r\n\r\n// 执行缓存在 updater.__setStateCallbacks 上的回调\r\nfunction flushCallback(updater) {\r\n  const callbacks = updater.__setStateCallbacks;\r\n  let cbk;\r\n  if (callbacks && callbacks.length) {\r\n    while (cbk = callbacks.shift()) cbk.call(updater);\r\n  }\r\n}","import {diff} from \"../dom_methods/diff\";\r\nimport {enqueueRender} from \"./update\";\r\n\r\nexport default class Component {\r\n\r\n  // 通过保持三份不同的时期的快照\r\n  // 有利于对组件的状态及属性的管理和追踪\r\n\r\n  // 属性\r\n  // public __prevProps\r\n  // public props = {}\r\n  // public __nextProps\r\n\r\n  // 状态\r\n  // public __prevState\r\n  // public state = {}\r\n  // public __nextState\r\n\r\n  // 储存当前组件渲染出的VNode\r\n  // public __vnode\r\n\r\n  // 储存组件节点\r\n  // public __component\r\n\r\n  constructor(props) {\r\n    this.props = props;\r\n    this.__setStateCallbacks = [];\r\n  }\r\n\r\n  render() {\r\n    //由组件实例实现\r\n    return null;\r\n  }\r\n\r\n  __createVNode() {\r\n    // 该方法用于封装重新执行 render 的逻辑\r\n\r\n    // state 与 props 状态变更的逻辑\r\n    this.__prevProps = this.props;\r\n    this.__prevState = this.state;\r\n\r\n    this.props = this.__nextProps;\r\n    this.state = this.__nextState;\r\n\r\n    this.__nextState = undefined;\r\n    this.__nextProps = undefined;\r\n\r\n    // 重新执行 render 生成 VNode\r\n    this.__vnode = this.render();\r\n    return this.__vnode;\r\n  }\r\n\r\n  //更新state\r\n  setState(operater, callback) {\r\n    // 合并状态, 暂存于即将更新态中\r\n    if (typeof operater === 'function') {\r\n      operater = operater(this.state, this.props);\r\n    }\r\n\r\n    //setState帮你合并\r\n    this.__nextState = {\r\n      ...this.state,\r\n      ...operater,\r\n    };\r\n\r\n    // 调用更新，并执行回调\r\n    callback && this.__setStateCallbacks.push(callback);\r\n    enqueueRender(this);\r\n  }\r\n\r\n  //更新状态，调用diff\r\n  __update() {\r\n    // 临时存储 旧虚拟节点 (oldVNode)\r\n    const oldVNode = this.__vnode;\r\n\r\n    this.__nextProps = this.props;\r\n    if (!this.__nextState) this.__nextState = this.state;\r\n\r\n    // 重新生成 新虚拟节点(newVNode)\r\n    this.__vnode = this.__createVNode();\r\n\r\n    // 调用 diff，更新 VNode\r\n    diff(oldVNode, this.__vnode);\r\n\r\n    this.__dirty = false;\r\n  };\r\n}","import createElement from \"./main_methods/createElement\";\r\nimport Component from \"./main_methods/Component\";\r\n\r\nconst SmpReact = {\r\n  createElement,\r\n  Component\r\n};\r\n\r\nexport default SmpReact;","import render from \"./dom_methods/render\";\r\n\r\nconst SmpReactDom = {\r\n  render,\r\n};\r\n\r\nexport default SmpReactDom;","import SmpReact from \"../../SmpReact/SmpReact\";\r\nimport imgsrc from \"../../assets/gamepad.png\";\r\nimport \"./style.css\";\r\n\r\nexport default class Footer extends SmpReact.Component {\r\n  constructor() {\r\n    super();\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <header className=\"wrapper\">\r\n        <div class=\"box\">\r\n          <img className=\"logo\" src={imgsrc} alt=\"\"/>\r\n          <div class=\"textWrapper\">\r\n            <div className=\"title\">Counter-Demo</div>\r\n            <div className=\"tips\">powered by SmpReact</div>\r\n          </div>\r\n        </div>\r\n      </header>\r\n    );\r\n  }\r\n}","import SmpReact from \"../../SmpReact/SmpReact\";\r\nimport \"./style.css\";\r\n\r\nexport default class Footer extends SmpReact.Component {\r\n  constructor() {\r\n    super();\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <footer>\r\n        <div className=\"txt\">Oliver-ysq</div>\r\n        <div className=\"txt\"><a target=\"_blank\" href=\"https://github.com/Oliver-Ysq\">https://github.com/Oliver-Ysq</a>\r\n        </div>\r\n      </footer>);\r\n  }\r\n}","import SmpReact from \"../../SmpReact/SmpReact\";\r\nimport \"./style.css\";\r\n\r\nexport default class Counter extends SmpReact.Component {\r\n  constructor(props) {\r\n    super(props);\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <div className=\"listWrapper\">\r\n        <div className=\"display\">{this.props.n}</div>\r\n        <div className=\"btnWrapper\">\r\n          <div>\r\n            <button className={this.props.disabled && 'ban'} onClick={() => this.props.add()}>+1</button>\r\n            <button className={this.props.disabled && 'ban'} onClick={() => this.props.minus()}>-1</button>\r\n            <button className={this.props.disabled && 'ban'} onClick={() => this.props.mult()}>×2</button>\r\n            <button className={this.props.disabled && 'ban'} onClick={() => this.props.clear()}>clear</button>\r\n          </div>\r\n          <div class=\"secondLine\">\r\n            <button onClick={() => this.props.setInterval()}>setInterval</button>\r\n            <button onClick={() => this.props.clearInterval()}>clearInterval</button>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}","import SmpReact from \"./src/SmpReact/SmpReact\";\r\nimport \"./App.css\";\r\nimport Header from \"./src/components/Header/Header\";\r\nimport Footer from \"./src/components/Footer/Footer\";\r\nimport Counter from \"./src/components/Counter/Counter\";\r\n\r\nexport default class App extends SmpReact.Component {\r\n  constructor() {\r\n    super();\r\n    this.state = {\r\n      n: 0,\r\n      interval: null,\r\n      flag: true,\r\n      disabled: false\r\n    };\r\n\r\n    this.calc = (type) => {\r\n      switch (type) {\r\n        case 0:\r\n          this.setState({n: this.state.n + 1});\r\n          break;\r\n        case 1:\r\n          this.setState({n: this.state.n - 1});\r\n          break;\r\n        case 2:\r\n          this.setState({n: 2 * this.state.n});\r\n          break;\r\n        case 3:\r\n          this.setState({n: 0});\r\n          break;\r\n        default:\r\n          throw new Error();\r\n      }\r\n    };\r\n\r\n    this.setInterval = () => {\r\n      if (!this.state.flag) return false;\r\n      const that = this;\r\n      this.setState({\r\n        disabled: true,\r\n        interval: setInterval(() => {\r\n          that.setState({\r\n            n: that.state.n + 1\r\n          });\r\n        }, 1000),\r\n        flag: false\r\n      });\r\n    };\r\n\r\n    this.clearInterval = () => {\r\n      if (this.state.flag === false) {\r\n        clearInterval(this.state.interval);\r\n        window.alert(\"定时器已关闭\");\r\n      }\r\n      this.setState({\r\n        flag: true,\r\n        interval: null,\r\n        disabled: false\r\n      });\r\n    };\r\n\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <div className=\"page\">\r\n        <Header/>\r\n        <main>\r\n          <Counter disabled={this.state.disabled} n={this.state.n} interval={this.state.interval}\r\n                   add={() => this.calc(0)} minus={() => this.calc(1)}\r\n                   mult={() => this.calc(2)}\r\n                   clear={() => this.calc(3)} setInterval={() => this.setInterval()}\r\n                   clearInterval={() => this.clearInterval()}/>\r\n        </main>\r\n        <Footer/>\r\n      </div>\r\n    );\r\n  }\r\n}","import SmpReact from \"./src/SmpReact/SmpReact\";\r\nimport SmpReactDom from \"./src/SmpReact/SmpReactDom\";\r\nimport App from \"./App\";\r\n\r\nSmpReactDom.render(<App/>,\r\n  document.getElementById(\"root\"));","var bundleURL = null;\nfunction getBundleURLCached() {\n  if (!bundleURL) {\n    bundleURL = getBundleURL();\n  }\n\n  return bundleURL;\n}\n\nfunction getBundleURL() {\n  // Attempt to find the URL of the current script and use that as the base URL\n  try {\n    throw new Error;\n  } catch (err) {\n    var matches = ('' + err.stack).match(/(https?|file|ftp|chrome-extension|moz-extension):\\/\\/[^)\\n]+/g);\n    if (matches) {\n      return getBaseURL(matches[0]);\n    }\n  }\n\n  return '/';\n}\n\nfunction getBaseURL(url) {\n  return ('' + url).replace(/^((?:https?|file|ftp|chrome-extension|moz-extension):\\/\\/.+)\\/[^/]+$/, '$1') + '/';\n}\n\nexports.getBundleURL = getBundleURLCached;\nexports.getBaseURL = getBaseURL;\n","var bundle = require('./bundle-url');\n\nfunction updateLink(link) {\n  var newLink = link.cloneNode();\n  newLink.onload = function () {\n    link.remove();\n  };\n  newLink.href = link.href.split('?')[0] + '?' + Date.now();\n  link.parentNode.insertBefore(newLink, link.nextSibling);\n}\n\nvar cssTimeout = null;\nfunction reloadCSS() {\n  if (cssTimeout) {\n    return;\n  }\n\n  cssTimeout = setTimeout(function () {\n    var links = document.querySelectorAll('link[rel=\"stylesheet\"]');\n    for (var i = 0; i < links.length; i++) {\n      if (bundle.getBaseURL(links[i].href) === bundle.getBundleURL()) {\n        updateLink(links[i]);\n      }\n    }\n\n    cssTimeout = null;\n  }, 50);\n}\n\nmodule.exports = reloadCSS;\n","var OVERLAY_ID = '__parcel__error__overlay__';\n\nvar OldModule = module.bundle.Module;\n\nfunction Module(moduleName) {\n  OldModule.call(this, moduleName);\n  this.hot = {\n    data: module.bundle.hotData,\n    _acceptCallbacks: [],\n    _disposeCallbacks: [],\n    accept: function (fn) {\n      this._acceptCallbacks.push(fn || function () {});\n    },\n    dispose: function (fn) {\n      this._disposeCallbacks.push(fn);\n    }\n  };\n\n  module.bundle.hotData = null;\n}\n\nmodule.bundle.Module = Module;\nvar checkedAssets, assetsToAccept;\n\nvar parent = module.bundle.parent;\nif ((!parent || !parent.isParcelRequire) && typeof WebSocket !== 'undefined') {\n  var hostname = process.env.HMR_HOSTNAME || location.hostname;\n  var protocol = location.protocol === 'https:' ? 'wss' : 'ws';\n  var ws = new WebSocket(protocol + '://' + hostname + ':' + process.env.HMR_PORT + '/');\n  ws.onmessage = function(event) {\n    checkedAssets = {};\n    assetsToAccept = [];\n\n    var data = JSON.parse(event.data);\n\n    if (data.type === 'update') {\n      var handled = false;\n      data.assets.forEach(function(asset) {\n        if (!asset.isNew) {\n          var didAccept = hmrAcceptCheck(global.parcelRequire, asset.id);\n          if (didAccept) {\n            handled = true;\n          }\n        }\n      });\n\n      // Enable HMR for CSS by default.\n      handled = handled || data.assets.every(function(asset) {\n        return asset.type === 'css' && asset.generated.js;\n      });\n\n      if (handled) {\n        console.clear();\n\n        data.assets.forEach(function (asset) {\n          hmrApply(global.parcelRequire, asset);\n        });\n\n        assetsToAccept.forEach(function (v) {\n          hmrAcceptRun(v[0], v[1]);\n        });\n      } else if (location.reload) { // `location` global exists in a web worker context but lacks `.reload()` function.\n        location.reload();\n      }\n    }\n\n    if (data.type === 'reload') {\n      ws.close();\n      ws.onclose = function () {\n        location.reload();\n      }\n    }\n\n    if (data.type === 'error-resolved') {\n      console.log('[parcel] ✨ Error resolved');\n\n      removeErrorOverlay();\n    }\n\n    if (data.type === 'error') {\n      console.error('[parcel] 🚨  ' + data.error.message + '\\n' + data.error.stack);\n\n      removeErrorOverlay();\n\n      var overlay = createErrorOverlay(data);\n      document.body.appendChild(overlay);\n    }\n  };\n}\n\nfunction removeErrorOverlay() {\n  var overlay = document.getElementById(OVERLAY_ID);\n  if (overlay) {\n    overlay.remove();\n  }\n}\n\nfunction createErrorOverlay(data) {\n  var overlay = document.createElement('div');\n  overlay.id = OVERLAY_ID;\n\n  // html encode message and stack trace\n  var message = document.createElement('div');\n  var stackTrace = document.createElement('pre');\n  message.innerText = data.error.message;\n  stackTrace.innerText = data.error.stack;\n\n  overlay.innerHTML = (\n    '<div style=\"background: black; font-size: 16px; color: white; position: fixed; height: 100%; width: 100%; top: 0px; left: 0px; padding: 30px; opacity: 0.85; font-family: Menlo, Consolas, monospace; z-index: 9999;\">' +\n      '<span style=\"background: red; padding: 2px 4px; border-radius: 2px;\">ERROR</span>' +\n      '<span style=\"top: 2px; margin-left: 5px; position: relative;\">🚨</span>' +\n      '<div style=\"font-size: 18px; font-weight: bold; margin-top: 20px;\">' + message.innerHTML + '</div>' +\n      '<pre>' + stackTrace.innerHTML + '</pre>' +\n    '</div>'\n  );\n\n  return overlay;\n\n}\n\nfunction getParents(bundle, id) {\n  var modules = bundle.modules;\n  if (!modules) {\n    return [];\n  }\n\n  var parents = [];\n  var k, d, dep;\n\n  for (k in modules) {\n    for (d in modules[k][1]) {\n      dep = modules[k][1][d];\n      if (dep === id || (Array.isArray(dep) && dep[dep.length - 1] === id)) {\n        parents.push(k);\n      }\n    }\n  }\n\n  if (bundle.parent) {\n    parents = parents.concat(getParents(bundle.parent, id));\n  }\n\n  return parents;\n}\n\nfunction hmrApply(bundle, asset) {\n  var modules = bundle.modules;\n  if (!modules) {\n    return;\n  }\n\n  if (modules[asset.id] || !bundle.parent) {\n    var fn = new Function('require', 'module', 'exports', asset.generated.js);\n    asset.isNew = !modules[asset.id];\n    modules[asset.id] = [fn, asset.deps];\n  } else if (bundle.parent) {\n    hmrApply(bundle.parent, asset);\n  }\n}\n\nfunction hmrAcceptCheck(bundle, id) {\n  var modules = bundle.modules;\n  if (!modules) {\n    return;\n  }\n\n  if (!modules[id] && bundle.parent) {\n    return hmrAcceptCheck(bundle.parent, id);\n  }\n\n  if (checkedAssets[id]) {\n    return;\n  }\n  checkedAssets[id] = true;\n\n  var cached = bundle.cache[id];\n\n  assetsToAccept.push([bundle, id]);\n\n  if (cached && cached.hot && cached.hot._acceptCallbacks.length) {\n    return true;\n  }\n\n  return getParents(global.parcelRequire, id).some(function (id) {\n    return hmrAcceptCheck(global.parcelRequire, id)\n  });\n}\n\nfunction hmrAcceptRun(bundle, id) {\n  var cached = bundle.cache[id];\n  bundle.hotData = {};\n  if (cached) {\n    cached.hot.data = bundle.hotData;\n  }\n\n  if (cached && cached.hot && cached.hot._disposeCallbacks.length) {\n    cached.hot._disposeCallbacks.forEach(function (cb) {\n      cb(bundle.hotData);\n    });\n  }\n\n  delete bundle.cache[id];\n  bundle(id);\n\n  cached = bundle.cache[id];\n  if (cached && cached.hot && cached.hot._acceptCallbacks.length) {\n    cached.hot._acceptCallbacks.forEach(function (cb) {\n      cb();\n    });\n    return true;\n  }\n}\n"]}